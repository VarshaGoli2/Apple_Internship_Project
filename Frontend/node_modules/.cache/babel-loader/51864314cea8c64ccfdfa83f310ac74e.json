{"ast":null,"code":"var _jsxFileName = \"/Users/mahitamaddipati/Downloads/reportincidentsnew/src/components/Vote.js\";\nimport React, { Component } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Vote extends Component {\n  constructor(props) {\n    super(props);\n\n    this.upvoteHandler = () => {\n      this.setState({\n        upvote: this.state.upvote + 1\n      });\n      console.log(this.state.upvote); //called b4 state is set\n      //this.state.reportCount=this.state.upvote-this.state.downvote\n\n      const body = {\n        incidentId: this.state.incidentId,\n        upvote: this.state.upvote,\n        downvote: this.state.downvote,\n        reportCount: this.state.reportCount\n      };\n      console.log(body);\n      const url = \"http://localhost:9000/incidents/vote\";\n      let headers = new Headers();\n      headers.append('Content-Type', 'application/json');\n      headers.append('Accept', 'application/json');\n      headers.append('Access-control-Allow-origin', url);\n      headers.append('Access-control-Allow-Credentials', 'true');\n      headers.append('POST', 'GET');\n      fetch(url, {\n        headers: headers,\n        method: 'POST',\n        body: JSON.stringify(body)\n      }).then(response => response.json()).then(contents => {\n        console.log(contents);\n      }).catch(() => console.log(\"can't access\" + url + \" response. \"));\n    };\n\n    this.downvoteHandler = e => {\n      this.setState({\n        downvote: this.state.downvote + 1\n      });\n      this.state.reportCount = this.state.upvote - this.state.downvote;\n      var body = {\n        incidentId: this.state.incidentId,\n        upvote: this.state.upvote,\n        downvote: this.state.downvote,\n        reportCount: this.state.reportCount\n      };\n      const url = \"http://localhost:9000/incidents/vote\";\n      console.log(body);\n      let headers = new Headers();\n      headers.append('Content-Type', 'application/json');\n      headers.append('Accept', 'application/json');\n      headers.append('Access-control-Allow-origin', url);\n      headers.append('Access-control-Allow-Credentials', 'true');\n      headers.append('POST', 'GET');\n      fetch(url, {\n        headers: headers,\n        method: 'POST',\n        body: JSON.stringify(body)\n      }).then(response => response.json()).then(contents => {\n        console.log(contents);\n      }).catch(() => console.log(\"can't access\" + url + \" response. \"));\n    };\n\n    this.state = {\n      incidentId: this.props.id,\n      upvote: this.props.u,\n      downvote: this.props.d,\n      reportCount: this.props.r\n    };\n    this.upvoteHandler = this.upvoteHandler.bind(this);\n    this.downvoteHandler = this.downvoteHandler.bind(this);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.upvoteHandler,\n        children: [\"Upvote-\", this.state.upvote]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: this.downvoteHandler,\n        children: \"Downvote\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 2\n    }, this);\n  }\n\n}\n\nexport default Vote;","map":{"version":3,"sources":["/Users/mahitamaddipati/Downloads/reportincidentsnew/src/components/Vote.js"],"names":["React","Component","Vote","constructor","props","upvoteHandler","setState","upvote","state","console","log","body","incidentId","downvote","reportCount","url","headers","Headers","append","fetch","method","JSON","stringify","then","response","json","contents","catch","downvoteHandler","e","id","u","d","r","bind","render"],"mappings":"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","sourcesContent":["import React,{Component} from \"react\";\n\nclass Vote extends Component{\n\n    constructor(props)\n    {\n        super(props)\n\n        this.state={\n            incidentId:this.props.id,\n            upvote:this.props.u,\n           downvote:this.props.d,\n           reportCount:this.props.r\n        }\n        this.upvoteHandler=this.upvoteHandler.bind(this)\n        this.downvoteHandler=this.downvoteHandler.bind(this)\n    }\n\nupvoteHandler=()=>\n{  this.setState({\n\n    upvote: this.state.upvote+1\n\n})\nconsole.log(this.state.upvote) //called b4 state is set\n //this.state.reportCount=this.state.upvote-this.state.downvote\n\nconst body={\n     incidentId:this.state.incidentId,\n     upvote:this.state.upvote,\n     downvote:this.state.downvote,\n     reportCount:this.state.reportCount\n }\n\n\n console.log(body)\n const url = \"http://localhost:9000/incidents/vote\";\n let headers=new Headers();\n headers.append('Content-Type','application/json');\n headers.append('Accept','application/json');\n headers.append('Access-control-Allow-origin',url);\n headers.append('Access-control-Allow-Credentials','true');\n headers.append('POST','GET');\n fetch(url, {\n   headers: headers,\n   method: 'POST',\n   body: JSON.stringify(body)\n })\n\n    \n   .then(response => response.json())\n   .then(contents => {\n     console.log(contents);\n   \n   })\n   .catch(() => console.log(\"can't access\" + url + \" response. \"))\n}\n\n\ndownvoteHandler=(e)=>\n{  this.setState({\n\n    downvote: this.state.downvote+1,\n    \n})\n\nthis.state.reportCount=this.state.upvote-this.state.downvote\n\n var body={\n    incidentId:this.state.incidentId,\n    upvote:this.state.upvote,\n     downvote:this.state.downvote,\n     reportCount:this.state.reportCount\n }\n\n const url = \"http://localhost:9000/incidents/vote\";\n console.log(body)\n let headers=new Headers();\n headers.append('Content-Type','application/json');\n headers.append('Accept','application/json');\n headers.append('Access-control-Allow-origin',url);\n headers.append('Access-control-Allow-Credentials','true');\n headers.append('POST','GET');\n fetch(url, {\n   headers: headers,\n   method: 'POST',\n   body: JSON.stringify(body)\n })\n\n    \n   .then(response => response.json())\n   .then(contents => {\n     console.log(contents);\n   \n\n   })\n   .catch(() => console.log(\"can't access\" + url + \" response. \"))\n    \n}\n\n\n\n\n    render()\n    {\n        return(\n <div>\n     <button onClick={this.upvoteHandler}>Upvote-{this.state.upvote}</button>\n     <button onClick={this.downvoteHandler}>Downvote</button>\n </div>\n\n        )\n    }\n}\n\nexport default Vote"]},"metadata":{},"sourceType":"module"}